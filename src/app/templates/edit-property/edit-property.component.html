<div class="container mt-5">
    <h2>Editar Propiedad</h2>

    <!-- Formulario de edición de propiedad -->
    <form [formGroup]="propertyForm" (ngSubmit)="updateProperty()">
        <!-- Campo de nombre -->
        <div class="form-group">
            <label for="name">Nombre:</label>
            <input type="text" id="name" formControlName="name" class="form-control" required />
        </div>

        <div>
            <label for="department">Departamento (obligatorio):</label>
            <select id="department" formControlName="department" required (change)="onDepartmentChange()">
                <option *ngFor="let department of departments | async" [value]="department.id">
                    {{ department.name }}
                </option>
            </select>
            <!-- Mensaje de error -->
            <div *ngIf="propertyForm.submitted && !propertyForm.get('department').value" class="error-message">
                Debes seleccionar un departamento.
            </div>
        </div>

        <!-- Campo de municipio -->
        <div>
            <label for="municipality">Municipio (obligatorio):</label>
            <select id="municipality" formControlName="municipality" required>
                <option *ngFor="let municipality of municipalities | async" [value]="municipality.id">
                    {{ municipality.name }}
                </option>
            </select>
            <!-- Mensaje de error -->
            <div *ngIf="propertyForm.submitted && !propertyForm.get('municipality').value" class="error-message">
                Debes seleccionar un municipio.
            </div>
        </div>

        <!-- Otros campos del formulario -->

        <!-- Campo de tipo de ingreso -->
        <div class="form-group">
            <label for="accessType">Tipo de ingreso:</label>
            <select id="accessType" formControlName="accessType" class="form-control">
                <option value="municipio">Municipio</option>
                <option value="carreteraPrincipal">Carretera Principal</option>
                <option value="carreteraSecundaria">Carretera Secundaria</option>
                <option value="carreteraTerciaria">Carretera Terciaria</option>
            </select>
        </div>

        <!-- Campo de descripción -->
        <div class="form-group">
            <label for="description">Descripción:</label>
            <textarea id="description" formControlName="description" class="form-control" required></textarea>
        </div>

        <!-- Campo de cantidad de habitaciones -->
        <div class="form-group">
            <label for="rooms">Cantidad de habitaciones:</label>
            <input type="number" id="rooms" formControlName="rooms" class="form-control" min="1" required />
        </div>

        <!-- Campo de cantidad de baños -->
        <div class="form-group">
            <label for="bathrooms">Cantidad de baños:</label>
            <input type="number" id="bathrooms" formControlName="bathrooms" class="form-control" min="1" required />
        </div>

        <!-- Campo de permitir mascotas -->
        <div class="form-group">
            <label for="petFriendly">Permite mascotas:</label>
            <input type="checkbox" id="petFriendly" formControlName="petFriendly" class="form-check-input" />
        </div>

        <!-- Campo de piscina -->
        <div class="form-group">
            <label for="pool">Tiene piscina:</label>
            <input type="checkbox" id="pool" formControlName="pool" class="form-check-input" />
        </div>

        <!-- Campo de asador -->
        <div class="form-group">
            <label for="bbq">Tiene asador:</label>
            <input type="checkbox" id="bbq" formControlName="bbq" class="form-check-input" />
        </div>

        <!-- Campo de valor por noche -->
        <div class="form-group">
            <label for="pricePerNight">Valor por noche:</label>
            <input type="number" id="pricePerNight" formControlName="pricePerNight" class="form-control" min="0" />
        </div>

        <!-- Botón de enviar -->
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    </form>
</div>
